<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:composition template="/pages/template/layout.xhtml">
	<ui:define name="contenu">
		<h:head>

			<title>#{msg.p_user_role_titre}</title>
		</h:head>

		<h:body>
			<p:dialog widgetVar="Ajout" resizable="false"
				header="#{msg.p_user_role_dialog_ajout_title}">
				<p:messages id="message_add" autoUpdate="true" />
				<h:form>
					<table>
						<tr>
							<td><h:outputText
									value="#{msg.p_user_role_dialog_ajout_libelle_nom_technique}"></h:outputText></td>
							<td><h:outputText value=" : "></h:outputText> <p:inputText
									value="#{userRoleManagedBean.nomTechnique}" required="true"
									requiredMessage="#{msg.p_user_role_dialog_ajout_nom_technique_msg_requis}"
									placeholder="#{msg.p_user_role_dialog_ajout_nom_technique_place_holder}"></p:inputText></td>
						</tr>
						<tr>
							<td><h:outputText
									value="#{msg.p_user_role_dialog_ajout_libelle}"></h:outputText></td>
							<td><h:outputText value=" : "></h:outputText> <p:inputText
									value="#{userRoleManagedBean.libelle}" required="true"
									requiredMessage="#{msg.p_user_role_dialog_ajout_libelle_msg_requis}"
									placeholder="#{msg.p_user_role_dialog_ajout_libelle_place_holder}"></p:inputText></td>
						</tr>
					</table>
					<p:commandButton
						value="#{msg.p_user_role_dialog_ajout_bSauver_libelle}"
						type="submit" action="#{userRoleManagedBean.addUserRole}"></p:commandButton>
					<p:commandButton immediate="true" onclick="PF('Ajout').close()"
						value="#{msg.p_user_role_dialog_ajout_bAnnuler_libelle}"
						type="cancel"></p:commandButton>
				</h:form>
			</p:dialog>


		


			<p:commandLink onclick="PF('Ajout').show()">
				<h:graphicImage id="add_role" name="private/image/plusVert.png">
					<p:tooltip for="add_role"
						value="#{msg.p_user_role_bouton_ajouter_tip}" />
				</h:graphicImage>
			</p:commandLink>
			<br />

			<p:dataTable var="userRole" value="#{userRoleManagedBean.userRoles}"
				id="dataTable" rowIndexVar="index" paginator="true"
				selectionMode="single"
				selection="#{userRoleManagedBean.userRoleSelected}"
				rowKey="#{userRole.idUserRole}">

				<p:column headerText="action" width="50"
					id="colonne_#{userRole.idUserRole}">
					<p:commandLink id="delete_role"
						action="#{userRoleManagedBean.deleteUserRole}"
						onclick="if (!confirm('#{msg.p_user_role_bouton_supprimer_confirm} #{userRole.technicalNameUserRole} (#{userRole.labelUserRole}) ?')) return false">

						
						<h:graphicImage id="img_delete"
							name="private/image/data-delete.png" styleClass="actionButtons">
						</h:graphicImage>
						<p:tooltip id="toolTip" for="delete_role"
							value="#{msg.p_user_role_bouton_supprimer_tip} #{userRole.technicalNameUserRole} (#{userRole.labelUserRole})" />
						<f:setPropertyActionListener value="#{userRole}"
							target="#{userRoleManagedBean.userRoleSelected}" />

					</p:commandLink>

					<p:commandLink  update=":modif" id="update_role" oncomplete="PF('Modif').show()"  >
						<h:graphicImage name="private/image/pencil_edit.png"
							styleClass="actionButtons">
							 <p:tooltip for="update_role"
									value="#{msg.p_user_role_bouton_modifier_tip} #{userRole.technicalNameUserRole} (#{userRole.labelUserRole})" />
						</h:graphicImage>
						<f:setPropertyActionListener value="#{userRole}"
							target="#{userRoleManagedBean.userRoleSelected}" />
					</p:commandLink>



				</p:column>
				<p:column headerText="#{msg.p_user_role_colonne_id_header}"
					style="width:20px">
					<h:outputText value="#{userRole.idUserRole}"></h:outputText>
				</p:column>
				<p:column
					headerText="#{msg.p_user_role_colonne_nom_technique_header}">
					<h:outputText value="#{userRole.technicalNameUserRole}"></h:outputText>
				</p:column>
				<p:column headerText="#{msg.p_user_role_colonne_libelle_header}">
					<h:outputText value="#{userRole.labelUserRole}"></h:outputText>
				</p:column>
			</p:dataTable>
	
	
	<p:dialog id="modif" widgetVar="Modif" resizable="false"
				header="#{msg.p_user_role_dialog_modif_title}">
				<p:messages id="message_modif" autoUpdate="true" />
				<h:form>
					<table>
						<tr>
							<td><h:outputText
									value="#{msg.p_user_role_dialog_ajout_libelle_nom_technique}"></h:outputText></td>
							<td><h:outputText value=" : "></h:outputText> <p:inputText
									value="#{userRoleManagedBean.nomTechnique}" required="true"
									requiredMessage="#{msg.p_user_role_dialog_ajout_nom_technique_msg_requis}"
									placeholder="#{msg.p_user_role_dialog_ajout_nom_technique_place_holder}"></p:inputText></td>
						</tr>
						<tr>
							<td><h:outputText
									value="#{msg.p_user_role_dialog_ajout_libelle}"></h:outputText></td>
							<td><h:outputText value=" : "></h:outputText> <p:inputText
									value="#{userRoleManagedBean.libelle}" required="true"
									requiredMessage="#{msg.p_user_role_dialog_ajout_libelle_msg_requis}"
									placeholder="#{msg.p_user_role_dialog_ajout_libelle_place_holder}"></p:inputText></td>
						</tr>
					</table>
					<br />
					<br />
					<p:commandButton
						value="#{msg.p_user_role_dialog_modif_bModifier_libelle}"
						type="submit" action="#{userRoleManagedBean.updateUserRole}"></p:commandButton>
					<p:commandButton immediate="true" onclick="PF('Modif').close()"
						value="#{msg.p_user_role_dialog_ajout_bAnnuler_libelle}"
						type="cancel"></p:commandButton>
				</h:form>
			</p:dialog>
		</h:body>
	</ui:define>
</ui:composition>
</html>