<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:socle="http://java.sun.com/jsf/composite/composite">


	<h:form id="formHeader">
		<p:growl id="growl" globalOnly="true" />
		<p:layout style="max-height:100px;">
			<p:layoutUnit position="west" minSize="100">
				<h:graphicImage name="private/image/avancialLogo.gif"
					id="avancialLogo" />
				<h:panelGrid columns="2">
					<h:commandLink action="#{ihmManagedBean.setLanguage('fr')}">
						<h:graphicImage name="private/langue/fr.png" />
					</h:commandLink>
					<h:commandLink action="#{ihmManagedBean.setLanguage('en')}">
						<h:graphicImage name="private/langue/en.png" />
					</h:commandLink>
				</h:panelGrid>
			</p:layoutUnit>
			<p:layoutUnit position="center">
				<socle:infosUser></socle:infosUser>

			</p:layoutUnit>
			<p:layoutUnit position="east" resizable="true" minSize="120"
				style="text-align: center;">
				<p:commandButton type="submit" value="#{msg.libelle_deconnexion}"
					action="#{ihmManagedBean.logout()}"
					rendered="#{ihmManagedBean.isLogged()}" update="formHeader" />


				<h:graphicImage id="img" name="private/image/attention2.png"
					height="16px" width="16px"
					rendered="#{!socleStateManagedBean.dataBaseConnected}" />
				<p:tooltip styleClass="message_important"
					value="#{msg.connexion_bdd_ko}" for="img" showEffect="clip"
					hideEffect="explode" />
				<p:commandButton type="submit" id="bouttonConnexion"
					value="#{msg.libelle_connexion}" action="#{ihmManagedBean.goLogin}"
					rendered="#{!ihmManagedBean.isLogged()}" update="formHeader"
					disabled="#{!socleStateManagedBean.dataBaseConnected}" />


			</p:layoutUnit>
		</p:layout>
	</h:form>

</ui:composition>
